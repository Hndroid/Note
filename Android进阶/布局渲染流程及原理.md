#### CPU与GPU

CPU 作为 "中央处理器"， 除了要负责逻辑计算外，还需要做内存管理，显示操作，因此随着各种复杂 App 的出现，其实运算的性能会大打折扣。

设计原由：为了提高图形显示的效率以及复杂的图形，设计出了GPU。

主要功能: 为了帮助 CPU 分担图形显示。

#### FPS

|单位|定义|
|:--|:--|
|12 fps|画面帧率高于每秒约 10-12 帧时，眼睛会认为它是连贯的|
|24 fps|有声电影拍摄一般为每秒 24 帧|
|30 fps|早期动态电子游戏，一般会在每秒 30 帧左右|
|60 fps|手机交互过程中，需要触摸和反馈，需要 60 帧才能达到不卡顿的效果|

>在 Android 中， 1000ms 里面达到 60 帧，也就是说每 16ms 就需要渲染一帧；

#### 优化目标

- CPU 减少 XML 转换成对象的时间；

- GPU 减少重复绘制；

#### XML布局显示至屏幕流程

- XML 文件通过 LayoutInflater 加载进内存；

- CPU 计算，处理成位图；

- CPU 将图形交给 GPU；

- GPU 对图形进行栅格化；

- 显示器显示；

#### 过度绘制

GPU 每隔 16ms 画一次，如果 CPU 传递过来的图形有重复的位置，会造成用户只能看到顶层画面，而底层的画面则被遮盖，底层部分的绘制虽然用户无法看到，但同样也占据了计算资源，造成了不必要的浪费，这种情况也叫做过度绘制；

#### UI 优化解决方案

- 布局中的背景是否需要；
- 是否可以删除多于布局；
- 自定义 View 是否进行了对应的裁剪；
- 布局是否够扁平化；
- 使用 Merge 标签排除多于一层 ViewGroup 容器；
- 使用 ViewStub 进行布局的懒加载；





